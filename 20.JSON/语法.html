<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    //  JSON  是一种数据格式
     //  JSON拥有语法，可以表示为三种类型的值：简单值 对象 数组
    /**
     * 简单值： 可以在json中表示字符串，数值，布尔，和null  但是没有undefined
     * 对象： 一组有序的键值对，采用javascript中对象字面量写法  与javascript不同的是它没有变量，属性要用双引号，没有分号
     * 数组： 一组有序的值的列表 也是采用js中数组的对象字面量写法  也是没有分号和变量，
     */

    //  解析与序列化    可以把JSON数据结构解析为有用的javascript对象 。然后可以使用基本的访问方法访问。
    // JSON 对象  早期使用eval()函数来解析JSON对象，并返回javascript对象和数组。 ECMAScript5 定义了JSON对象。
        // JSON对象有俩个方法：stringify() 和 parse()
            // stringify()  把javascript对象转换为JSON字符串  parse() 将JSON字符串转换为相应的javascript值。
    /***
     *
     * 序列化选项    stringify() 还可以接受另外俩个俩个参数 第一个是过滤器(数组或函数)，第二个是一个选项，表示是否在JSON字符串中保留缩进,如果是数值,表示的是每个级别缩进的空格数
     *                      如果是字符串,则将这个字符串作为缩进字符,不在使用空格。
     */
    //对象上的toJSON()方法

     /*
     *  解析选项 parse()  也可以接收另外一个参数,该参数是一个函数,将在每个键值对上调用.函数也接受俩个参数 key value
     *  
     * */
     var book = {
         "title":"书名",
         "authors":["c"],
         "edition":3,
         "year":2017
     };

     var jsonText = JSON.stringify(book,["title","year"],4);

    //函数则需要传入俩个参数
     var jsonText2 = JSON.stringify(book,function(key,value){
         switch (key){
             case "authors":
                 return value.join(",");
             case "edition":
                 return undefined;
             case "year":
                 return 3;
             default :
                 return value
         }
     })  ;

    console.log(jsonText);  //{"title":"书名","year":2017}
    console.log(jsonText2);
</script>
</body>
</html>