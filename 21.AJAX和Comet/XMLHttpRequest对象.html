<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <script>
        // ajax的核心技术就是XMLHttpRequest对象

        //XHR对象的用法
        var xhr = new XMLHttpRequest();

        xhr.onreadystatechange = function(){   //写在open()指定可以保证跨浏览器的兼容性
          if(xhr.readyState == 4){
              if((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304){
                  console.log(xml.responseText);
              } else {
                  console.log("请求失败:状态码为"+xhr.status)
              }
          }
        };
        xhr.open(); //准备请求 open()方法  接收3个参数  请求类型(get或post) 请求的URL 是否异步的布尔值
        xhr.send(null); //发送请求 如果有参数着写参数,没有则写null  参数的写法 k1=v1&k2=v2
        //发送请求之后收到响应,响应的数据会自动填充XHR对象的属性.
        // 属性有 : responseText 响应主体返回的文本 responseXML 如果响应的内容是"text/xml"或"application/xml".这个属性保存着响应数据的XMLDOM文档
        //        status 响应的HTTP状态  statusText HTTP状态的说明.
        //请求完毕之后查看响应: 200成功 304表示请求的资源并没有被修改

        //发送异步请求的时候可以通过XHR对象的readyState属性来查看响应的活动阶段 ,由5个数值表示
            // 0 未初始化 尚未调用open()方法 1 启动 调用open(),但未调用send() 2 发送 以调用send() 但未收到响应 3 以接收部分数据 4接收全部数据 可以在客户端使用
            // readyState属性改变是会发生readystatechange事件,


        //HTTP头部信息:  每个HTTP请求都会有相应的头部信息 XHR对象也提供了请求头部和响应头部的信息
        //   setRequestHeader()方法  自定义设置头部信息 必须在调用open之后 send之前
        //   getResponseHeader() 传入头部字段名称可以获取相应的头部信息,getAllResponseHeaders()

        //GET请求   参数使用encodeURLComponent()方法编码  放在URL的后面 ?开头 采用名=值的形式 多个参数用&间隔
        //POST请求  在send()中传入数据  如果需要提交表单可以用XHR来模拟 xhr.setRequestHeader("Content-type","application/x-www-from-urlencode");
    </script>
</body>
</html>